[『ACM模板整理 目录』](https://www.zybuluo.com/philogag/note/1522039 "跳转到目录")
# 博弈 - ACM模板 - Math

tags: ACM Math 

- [博弈 - ACM模板 - Math](#%e5%8d%9a%e5%bc%88---acm%e6%a8%a1%e6%9d%bf---math)
  - [Bash 博弈(简单博弈)](#bash-%e5%8d%9a%e5%bc%88%e7%ae%80%e5%8d%95%e5%8d%9a%e5%bc%88)
      - [博弈内容](#%e5%8d%9a%e5%bc%88%e5%86%85%e5%ae%b9)
      - [结论](#%e7%bb%93%e8%ae%ba)
  - [Wythoff 博弈](#wythoff-%e5%8d%9a%e5%bc%88)
      - [博弈内容](#%e5%8d%9a%e5%bc%88%e5%86%85%e5%ae%b9-1)
      - [结论](#%e7%bb%93%e8%ae%ba-1)
  - [Nimm 博弈(尼姆博弈) //取石子游戏的终极状态](#nimm-%e5%8d%9a%e5%bc%88%e5%b0%bc%e5%a7%86%e5%8d%9a%e5%bc%88-%e5%8f%96%e7%9f%b3%e5%ad%90%e6%b8%b8%e6%88%8f%e7%9a%84%e7%bb%88%e6%9e%81%e7%8a%b6%e6%80%81)
      - [博弈内容](#%e5%8d%9a%e5%bc%88%e5%86%85%e5%ae%b9-2)
      - [结论](#%e7%bb%93%e8%ae%ba-2)
      - [详解](#%e8%af%a6%e8%a7%a3)
    - [SG函数与SG定理](#sg%e5%87%bd%e6%95%b0%e4%b8%8esg%e5%ae%9a%e7%90%86)
  - [斐波那契尼姆博弈](#%e6%96%90%e6%b3%a2%e9%82%a3%e5%a5%91%e5%b0%bc%e5%a7%86%e5%8d%9a%e5%bc%88)
  - [注意](#%e6%b3%a8%e6%84%8f)

---
## Bash 博弈(简单博弈)

#### 博弈内容
假设A 和 B 玩 一个取石子的博弈，有总数为 N 的石子 ，一人能取 1 ~ M 个石子。

#### 结论

 + 后手胜: N % (M + 1) == 0 
 
 >只要开始先手打破平衡，先取石子，后手再取，让剩下的石子 一直为 (M+1) 的整数倍，则为后手的必胜局面

 + 先手胜: N % (M + 1) !=0

 >只要先手开始取石子，让剩下的石子 一直为(N+1)的整倍数，为先手的必胜局面

-----  

## Wythoff 博弈

#### 博弈内容

有两堆石子,每次可以从某一堆取至少1颗(无上限)，或者从两堆取相同的数量。最后取完的是胜利者。

#### 结论

首先我们知道两堆是**没有差别**的,也就是说第一堆有a,第二堆有b和第一堆有b,第二堆有a是一样的结果。

我们用一个二维的状态（a,b)来记录当前状态，表示第一堆剩下a,第二堆剩下b。同样我们假设两个人的编号是A和B，且A先取。

那么如果某个人遇到了这样的状态(0,0)那么也就是说这个人输了。这样的状态我们叫做奇异状态,也可以叫做失败态。

 + 必败局势：$(a_k，b_k)$
> $a_k = [k \times (1+\sqrt{5}) \div 2],\; b_k= a_k + k$  
> (k=0，1，2，…,n 方括号表示取整函数)  
> 即为：$(n, m)$ 其中 $n<m$ 且满足 `n == int((m - n)*(1 + sqrt(5))/2)`

---

## Nimm 博弈(尼姆博弈)    //取石子游戏的终极状态

#### 博弈内容

指的是这样的一个博弈游戏，目前有m堆石子，每堆石子个数是任意的，双方轮流从中取出石子，规则如下：
1. 每一步应取走至少一枚石子，每一步只能从某一堆中取走部分或全部石子
2. 如果谁取到最后一枚石子就胜。

#### 结论

+ 当博弈为 **平衡状态** 时，先手必败
+ 反之 先手必胜

>+ 平衡状态判定  
>   + $m_0 \oplus m_1 \oplus ...\oplus m_i == 0$  
>   + 其中 $\oplus$ 即为 $xor$ (异或运算), c++运算符为 `^`

>+ 尼姆博弈原理  
>   1. 由某大牛得出博弈的**奇异态**(即某些特殊的**必败局势**) 与 异或运算相关
>   2. 异或运算性质 : $a\oplus b \oplus (a\oplus b) = (a\oplus a)\oplus(b\oplus b) = 0\oplus 0 = 0$
>   3. 由上面性质可得任何非奇异态M，只需将其中任意 $m_t$ 变为 ($m_1\oplus...      \oplus m_i$，其中$i \neq t$)
>   4. 所以在尼姆博弈中 奇异态P与非奇异态N 之间相互转换均只需要一步
>   5. 由于奇异态的特殊性质($\oplus m_i==0$)，又将其称为平衡态
>   6. 所以当先手面对的是奇异态(平衡态)时，他只能将其变为非奇异态，而后手又会将其变成奇异态，所以此时先手必输，反之同理

> + 异或运算的封闭性:
>   + c = a ^ b 则 a = b ^ c

#### 详解
> + https://www.cnblogs.com/jiangjun/archive/2012/11/01/2749937.html

### SG函数与SG定理

todo

## 斐波那契尼姆博弈

todo

## 注意

常见博弈问题中通常会在0附近存在特解，而其他状态会通过几次博弈达到这些特解  
把特解找出并推算几次后面的博弈即可**找出规律**
